(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1220:function(e,t,a){var l=a(9),n=a(1221);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var r={insert:"head",singleton:!1};l(n,r);e.exports=n.locals||{}},1221:function(e,t,a){(t=a(10)(!1)).push([e.i,".Header .dcl.navbar-logo{display:none}.Header nav{display:inline-block}.Header nav ul li{list-style:none}.Logo-img{display:inline-block;height:60px}.Logo ::after{clear:both}.Account{margin-top:20px;margin-right:10px;display:inline-block;float:right}",""]),e.exports=t},1222:function(e,t,a){var l=a(9),n=a(1223);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var r={insert:"head",singleton:!1};l(n,r);e.exports=n.locals||{}},1223:function(e,t,a){(t=a(10)(!1)).push([e.i,".Home-Panel{height:700px;display:grid;grid-template-columns:100%;justify-content:space-around;align-content:center;align-items:stretch}.Home-Panel-Sub{font-size:20px;padding:20px;margin:40px;height:70%;color:#fff;position:relative;padding-bottom:60px}.Home-Panel-Sub--register{background-color:#920fc5cc}.Home-Panel-Sub--myLand{background-color:#920fc5cc}.Home-Panel-Sub .Form-Field-Button{position:absolute;bottom:0;height:auto;background-color:#ff7200;margin:10px 0;cursor:pointer;clear:both;display:inline-block;width:auto}.Home .Register-Email .ui.sub.header{text-transform:none;color:var(--secondary-text);font-size:13px;line-height:18px;font-weight:normal;text-transform:uppercase}",""]),e.exports=t},1242:function(e,t,a){var l=a(9),n=a(1243);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var r={insert:"head",singleton:!1};l(n,r);e.exports=n.locals||{}},1243:function(e,t,a){var l=a(10),n=a(191),r=a(425);t=l(!1);var i=n(r);t.push([e.i,"body{margin:0}.content{padding:20px}.ui.form textarea{background:#000;color:#fff}.ui.basic.table td{padding:2px}.Home-Panel{background:url("+i+");background-repeat:no-repeat;background-position:top;background-size:37%}:root{--primary: green !important}",""]),e.exports=t},2:function(e,t,a){"use strict";a.r(t),a.d(t,"mountApp",(function(){return w}));var l=a(3),n=a.n(l),r=a(114),i=a.n(r),o=a(235),c=a(29);const d=n.a.createContext({account:{}});var u,s=a(0);a(241);!function(e){e[e.REGISTER_EMAIL=0]="REGISTER_EMAIL",e[e.LOGIN_NONCE=1]="LOGIN_NONCE",e[e.CREATE_AD=2]="CREATE_AD",e[e.RENT_REQUEST=3]="RENT_REQUEST",e[e.ACCEPT_RENT_REQUEST=4]="ACCEPT_RENT_REQUEST",e[e.DELETE_AD=5]="DELETE_AD",e[e.DELETE_RENT_REQUEST=6]="DELETE_RENT_REQUEST",e[e.UPDATE_AD=7]="UPDATE_AD"}(u||(u={}));const m={[u.REGISTER_EMAIL]:"Registering email $0",[u.LOGIN_NONCE]:"Login with nonce $0",[u.CREATE_AD]:"$0",[u.RENT_REQUEST]:"Rent request for Ad $0",[u.ACCEPT_RENT_REQUEST]:"Accept rent request $0",[u.DELETE_AD]:"Delete ad for entity $0",[u.DELETE_RENT_REQUEST]:"Delete rent request $0",[u.UPDATE_AD]:"Update ad for land with data $0"},E=(e,...t)=>m[e].replace("$0",t[0]),p=(new(a(242))(ethereum),()=>function(e){let t={};for(let a of e){const[e,l]=a;t[e]=l}return t}(new URLSearchParams(Object(c.f)().search)));var b=a(129);const v={"0x909bebffc69bab12c2ce559b74e43b50cdcafd8c":!0,"0x5c014f91bf867c54ec335c18ba2e27066a83a0e6":!0};function g(e){try{return new Date(e+-60*(new Date).getTimezoneOffset()*1e3).toISOString().slice(0,19)}catch(e){}}new(a(242))(ethereum);const f="IDLE",h="SENDING",T=()=>{const{account:e}=Object(l.useContext)(d),t=p()||{},{id:a}=t,[r,i]=Object(l.useState)({organizer:e.address.toLowerCase(),max_participants:8,start_date:Date.now(),whitelist:[],expiration_date:Date.now()+144e5}),[o,c]=Object(l.useState)(!0),[m,T]=Object(l.useState)(!1),[x,C]=Object(l.useState)(""),[S,y]=Object(l.useState)(h),[_,w]=Object(l.useState)([]),[R,N]=Object(l.useState)(!0),[H,A]=Object(l.useState)(!1);Object(l.useEffect)(()=>{(async()=>{const t=await Object(s.a)("https://peer.decentral.io/lambdas/collections/wearables-by-owner/"+e.address);A(!!(e=>e.map(e=>{const[t,a,l,n,r,i]=e.urn.split(":");return r}).filter(e=>v[e.toLowerCase()]).length)(t)),N(!1),y(f)})()},[]);const D=async()=>{if(O())return;if(S!==f)return;if(!function(){const e=[];return r.expiration_date<r.start_date&&e.push("Expiration date must be higher than start date"),r.expiration_date||e.push("Missing expiration date"),r.start_date||e.push("Missing start date"),m&&!r.whitelist.filter(e=>e).length&&e.push("Need to set whitelisted addresses for a private tournament"),w(e),!e.length}())return;y(h);e.address;let t;try{t=await(async(e,t)=>await ethereum.request({method:"personal_sign",params:[E(u.CREATE_AD,JSON.stringify(t)),e]}))(e.address,r)}catch(e){return y(f),Promise.reject({message:"SIGNING_ERROR"})}if(console.log("signature",t),!t)return y(f),Promise.reject({message:"SIGNING_ERROR"});await Object(s.b)("api/create-tournament",r).then(({ID:e,code:t})=>{alert("tournament created with code: "+t),location.href="/view-tournament?code="+t},e=>{alert("error creating tournament")})};const O=()=>S===h;function k(e){var t;"datetime-local"===e.target.type?i({...r,[e.target.id]:(t=e.target.value,console.log("dateTimeLocal",t),new Date(t)).getTime()}):"whitelist"===e.target.id?i({...r,[e.target.id]:e.target.value.split("\n")}):i({...r,[e.target.id]:e.target.value})}return n.a.createElement(b.Form,null,n.a.createElement(b.Header,{size:"large"},"Create tournament"),n.a.createElement("br",null),n.a.createElement("br",null),R?"checking wearables ...":"",R||H?"":"Missing necessary wearables to create a tournament, ask in our discord.",!R&&H&&n.a.createElement(n.a.Fragment,null,n.a.createElement(b.Field,{id:"max_participants",type:"number",label:"Max participants",value:r.max_participants,onChange:e=>k(e)}),n.a.createElement(b.Field,{id:"start_date",type:"datetime-local",label:"Start date time",value:g(r.start_date),onChange:e=>k(e)}),n.a.createElement(b.Field,{id:"expiration_date",type:"datetime-local",label:"Expiration date time",value:g(r.expiration_date),onChange:e=>k(e)}),n.a.createElement(b.Header,{sub:!0},"I participate"),n.a.createElement(b.Field,{id:"participate",type:"checkbox",checked:o,onChange:()=>c(!o)}),n.a.createElement(b.Header,{sub:!0},"Private"),n.a.createElement(b.Field,{id:"isPrivate",type:"checkbox",checked:m,onChange:()=>T(!m)}),m&&n.a.createElement(n.a.Fragment,null,n.a.createElement(b.Header,{sub:!0},"Whitelisted addresses (1 per line)"),n.a.createElement(b.TextArea,{id:"whitelist",rows:8,value:(r.whitelist||[]).join("\n"),onChange:e=>k(e)})),n.a.createElement("br",null),n.a.createElement("br",null),(null==_?void 0:_.length)&&_.map(e=>n.a.createElement("div",{key:e,style:{color:"red"}},e))||"",n.a.createElement(b.Row,null,n.a.createElement(b.Button,{disabled:O(),primary:!0,onClick:()=>D()},"Submit")))||"")};var x=a(425);a(1220);const C=()=>{const e=Object(l.useContext)(d),{address:t,registered:a,emailVerified:r}=e.account;return n.a.createElement("header",{className:"Header"},n.a.createElement("div",{className:"Navbar-story-container"},n.a.createElement(b.Navbar,{isConnected:a&&r,address:t,leftMenu:n.a.createElement(n.a.Fragment,null,n.a.createElement("img",{className:"Logo-img",src:x.default}),n.a.createElement(b.Menu.Item,null,n.a.createElement(o.b,{to:"/"},"Home")),n.a.createElement(b.Menu.Item,null,n.a.createElement(o.b,{to:"/create-tournament"},"create tournament")),n.a.createElement(b.Menu.Item,null,n.a.createElement("a",{href:"https://t.co/zIsBl8dB5z"},"DISCORD")),n.a.createElement(b.Menu.Item,null,n.a.createElement("a",{href:"https://twitter.com/GolfcraftGame"},"TWITTER"))),rightMenu:n.a.createElement(n.a.Fragment,null,a&&r&&n.a.createElement("div",{className:"Account"},n.a.createElement("div",{style:{display:"inline-block",marginRight:"10px",verticalAlign:"top"}},n.a.createElement(b.Blockie,{seed:t})),n.a.createElement("div",{style:{width:"110px",display:"inline-block"}},"ðŸŸ¢ Connected",n.a.createElement("br",null),n.a.createElement("div",{style:{fontSize:"14px",color:"grey",width:"100%",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}},t)))||null,(!a||!r)&&n.a.createElement("div",{className:"Account"},n.a.createElement("div",{style:{width:"140px"}},"ðŸ”´ Not connected",n.a.createElement("br",null)))||null)})))};a(1222);const S=()=>{const{address:e,registered:t,emailVerified:a}=(()=>{const e=Object(l.useContext)(d),{address:t,registered:a,emailVerified:n}=(null==e?void 0:e.account)||{};return{address:t,registered:a,emailVerified:n}})();return console.log({address:e,registered:t,emailVerified:a}),n.a.createElement("div",{className:"Home-Panel"},n.a.createElement("center",null,"Play to earn mini-golf game in Decentraland"))};a(1224),a(1242),a(1244);const y=()=>{var e,t,a,r,i;const{code:o}=p()||{},[c,d]=Object(l.useState)({max_participants:null,start_date:0,expiration_date:0,whitelist:[],participants:[]});return Object(l.useEffect)(()=>{(async()=>{d(await Object(s.b)("/api/get-tournament-by-code",{code:o}))})()},[]),n.a.createElement(b.Form,null,n.a.createElement(b.Header,{size:"large"},"Tournament ",o),n.a.createElement("div",null,"Max participants: ",c.max_participants),n.a.createElement("div",null,"Start date: ",n.a.createElement("input",{disabled:!0,type:"datetime-local",value:g(1e3*c.start_date)})),n.a.createElement("div",null,"Expiration date: ",n.a.createElement("input",{disabled:!0,type:"datetime-local",value:g(1e3*c.expiration_date)})),(null===(e=null==c?void 0:c.whitelist)||void 0===e?void 0:e.length)&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",null,"Whitelist:"),n.a.createElement(b.TextArea,{value:null===(t=c.whitelist)||void 0===t?void 0:t.join("\n")}))||"",n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("div",null,"Participants summary"),n.a.createElement("div",null,n.a.createElement(b.Table,{padded:!0,basic:"very",size:"small",style:{width:"100%",textAlign:"center",margin:0}},n.a.createElement(b.Table.Header,null,n.a.createElement(b.Table.HeaderCell,null,"Name"),n.a.createElement(b.Table.HeaderCell,null,"Games"),n.a.createElement(b.Table.HeaderCell,null,"No hole"),n.a.createElement(b.Table.HeaderCell,null,"Shots")),n.a.createElement(b.Table.Body,null,!(null===(a=c.participants)||void 0===a?void 0:a.length)&&n.a.createElement("tr",null,n.a.createElement("td",{colSpan:3},"Empty"))||"",(null===(r=c.participants)||void 0===r?void 0:r.length)&&c.participants.sort(T).map(e=>{var t,a,l,r;return n.a.createElement(b.Table.Row,null,n.a.createElement(b.Table.Cell,null,null==e?void 0:e.displayName,h(e)?"â›³":""),n.a.createElement(b.Table.Cell,null,(null===(a=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.courseStates)||void 0===a?void 0:a.length)||0),n.a.createElement(b.Table.Cell,null,(null===(r=null===(l=null==e?void 0:e.data)||void 0===l?void 0:l.courseStates)||void 0===r?void 0:r.length)&&e.data.courseStates.reduce((e,t)=>(t.startTime&&!t.holeTime&&e++,e),0)),n.a.createElement(b.Table.Cell,null,m(e)))})||""))),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("div",null,"Participants detailed"),n.a.createElement("div",null,n.a.createElement(b.Table,{padded:!0,basic:"very",size:"small",style:{width:"100%",textAlign:"center",margin:0}},n.a.createElement(b.Table.Header,null,n.a.createElement(b.Table.HeaderCell,null,"Name"),n.a.createElement(b.Table.HeaderCell,null,"1"),n.a.createElement(b.Table.HeaderCell,null,"2"),n.a.createElement(b.Table.HeaderCell,null,"3"),n.a.createElement(b.Table.HeaderCell,null,"4"),n.a.createElement(b.Table.HeaderCell,null,"5"),n.a.createElement(b.Table.HeaderCell,null,"6"),n.a.createElement(b.Table.HeaderCell,null,"7"),n.a.createElement(b.Table.HeaderCell,null,"8"),n.a.createElement(b.Table.HeaderCell,null,"9"),n.a.createElement(b.Table.HeaderCell,null,"10"),n.a.createElement(b.Table.HeaderCell,null,"11"),n.a.createElement(b.Table.HeaderCell,null,"12"),n.a.createElement(b.Table.HeaderCell,null,"Total Shots"),n.a.createElement(b.Table.HeaderCell,null,"Total time")),n.a.createElement(b.Table.Body,null,(null===(i=c.participants)||void 0===i?void 0:i.length)&&c.participants.sort(T).map(e=>n.a.createElement(b.Table.Row,{key:e.address},n.a.createElement(b.Table.Cell,null,null==e?void 0:e.displayName,h(e)?"â›³":""),n.a.createElement(b.Table.Cell,null,E(e,0)),n.a.createElement(b.Table.Cell,null,E(e,1)),n.a.createElement(b.Table.Cell,null,E(e,2)),n.a.createElement(b.Table.Cell,null,E(e,3)),n.a.createElement(b.Table.Cell,null,E(e,4)),n.a.createElement(b.Table.Cell,null,E(e,5)),n.a.createElement(b.Table.Cell,null,E(e,6)),n.a.createElement(b.Table.Cell,null,E(e,7)),n.a.createElement(b.Table.Cell,null,E(e,8)),n.a.createElement(b.Table.Cell,null,E(e,9)),n.a.createElement(b.Table.Cell,null,E(e,10)),n.a.createElement(b.Table.Cell,null,E(e,11)),n.a.createElement(b.Table.Cell,null,m(e)),n.a.createElement(b.Table.Cell,null,v(function(e){return Array(12).fill(0).map((t,a)=>u(e,a)||0).reduce((e,t)=>e+t,0)}(e)))))))),n.a.createElement("br",null),n.a.createElement("br",null));function u(e,t){var a,l,n,r,i,o,c;return(null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.courseStates)&&(null===(n=null===(l=null==e?void 0:e.data)||void 0===l?void 0:l.courseStates[t])||void 0===n?void 0:n.holeTime)?(null===(i=null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.courseStates[t])||void 0===i?void 0:i.holeTime)-(null===(c=null===(o=null==e?void 0:e.data)||void 0===o?void 0:o.courseStates[t])||void 0===c?void 0:c.startTime):null}function m(e){var t,a;return(null===(a=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.courseStates)||void 0===a?void 0:a.reduce((e,t)=>e+=t.shoots||0,0))||0}function E(e,t){var a,l,r,i,o,c,d,s,m;return(null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.courseStates)&&!(null===(r=null===(l=null==e?void 0:e.data)||void 0===l?void 0:l.courseStates[t])||void 0===r?void 0:r.holeTime)&&(null===(o=null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.courseStates[t])||void 0===o?void 0:o.finished)?"MISS":(null===(c=null==e?void 0:e.data)||void 0===c?void 0:c.courseStates)&&(null===(s=null===(d=null==e?void 0:e.data)||void 0===d?void 0:d.courseStates[t])||void 0===s?void 0:s.holeTime)&&n.a.createElement(n.a.Fragment,null,null===(m=null==e?void 0:e.data)||void 0===m?void 0:m.courseStates[t].shoots,n.a.createElement("br",null),v(u(e,t)||0))||n.a.createElement("span",null,"-")}function v(e){Math.floor(e/36e5);const t=Math.floor(e%36e5/6e4),a=Math.floor(e%36e4%6e4/1e3);return t.toString().padStart(2,"0")+":"+a.toString().padStart(2,"0")+":"+(e%10).toString().padStart(2,"0")}function f(e){var t,a,l;return 12===(null===(a=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.courseStates)||void 0===a?void 0:a.length)&&(null===(l=null==e?void 0:e.data)||void 0===l?void 0:l.courseStates[11].finished)}function h(e){var t,a,l;return 12===(null===(a=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.courseStates)||void 0===a?void 0:a.length)&&(null===(l=null==e?void 0:e.data)||void 0===l?void 0:l.courseStates.every(e=>e.holeTime))}function T(e,t){return!f(t)&&f(e)?-1:!f(e)&&f(t)?1:!h(t)&&h(e)?-1:!h(e)&&h(t)?1:h(e)||h(t)?m(t)-m(e):t.data.courseStates.length-e.data.courseStates.length}},_=()=>{const e=Object(l.useContext)(d),{address:t}=e.account;return n.a.createElement(b.Container,null,n.a.createElement(o.a,null,n.a.createElement(C,null),n.a.createElement(c.c,null,n.a.createElement(c.a,{path:"/create-tournament"},n.a.createElement("div",{className:"content"},n.a.createElement(T,null))),n.a.createElement(c.a,{path:"/view-tournament"},n.a.createElement("div",{className:"content"},n.a.createElement(y,null))),n.a.createElement(c.a,{path:"/"},n.a.createElement(S,null)))))},w=e=>{const t=document.createElement("div");document.body.appendChild(t),i.a.render(n.a.createElement(d.Provider,{value:{account:e}},n.a.createElement(_,{account:e})),t)}},241:function(e,t,a){var l=a(9),n=a(449);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var r={insert:"head",singleton:!1};l(n,r);e.exports=n.locals||{}},425:function(e,t,a){"use strict";a.r(t),t.default=a.p+"7fed8834b12bbd9d8e7edfe291a1ce3b.png"},449:function(e,t,a){(t=a(10)(!1)).push([e.i,".Form-Field{margin-bottom:10px;box-sizing:border-box}.Form-Field-Label{text-transform:uppercase}.Form-Field-Input{width:100%;padding:10px;font-size:20px;box-sizing:border-box}.Form-Field-Button{cursor:pointer;height:30px;line-height:30px;display:inline-block;padding:10px;background-color:#ab2cd2;color:#fff;margin:10px;border-radius:4px}.Form-Field-Button--cancel{background-color:gray;color:#fff}.Form-Field-Button--disabled{opacity:.5;cursor:not-allowed}.Form-Field-Button--danger{background-color:#ff264a}",""]),e.exports=t},463:function(e,t){},466:function(e,t){},469:function(e,t){},473:function(e,t){},497:function(e,t){},499:function(e,t){},509:function(e,t){},511:function(e,t){},521:function(e,t){},523:function(e,t){},633:function(e,t){},635:function(e,t){},642:function(e,t){},643:function(e,t){}}]);